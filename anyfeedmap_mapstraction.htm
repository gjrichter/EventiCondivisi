<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
	<meta http-equiv="pragma" content="private" />
	<meta http-equiv="Cache-Control" content="max-age=60" />

	<title>any feed map</title>

	<!-- styles --> 
	<link media="screen" href="css/anyfeedmap.css" rel="stylesheet" type="text/css" />
	<link media="print" href="css/anyfeedmap_print.css" rel="stylesheet" type="text/css" />

	<link media="screen" href="css/tooltip.css" rel="stylesheet" type="text/css" />
	<link media="screen" href="css/messagebox.css" rel="stylesheet" type="text/css" />
	<link media="screen" href="css/idtab.css" rel="stylesheet" type="text/css" /> 
	<link media="screen" href="css/form.css" rel="stylesheet" type="text/css" /> 
	<link media="print" href="css/idtab_print.css" rel="stylesheet" type="text/css" /> 

	<link media="screen" href="css/layerlist.css" rel="stylesheet" type="text/css" /> 
	<link media="screen" href="css/date.css" rel="stylesheet" type="text/css" /> 

	<!-- scripts --> 

	<!-- map -->
	<!-- V3 
	<script src="http://maps.google.com/maps/api/js?sensor=false&amp;libraries=panoramio" type="text/javascript"></script>
	<script src="js/ixmaps/map_GoogleV3.js" type="text/javascript"></script>
	 -->


	<!-- Mapstraction -->
	<script src="http://openlayers.org/en/v3.0.0/build/ol.js"></script> 

	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
	<!--[if lte IE 8]>
		<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.5/leaflet.ie.css" />
	<![endif]-->

	<!--
	<script src="http://cdn.leafletjs.com/leaflet-0.6/leaflet.js"></script>
	-->
	<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>

	<script src="js/ixmaps/map_Mapstraction.js" type="text/javascript" > </script>
	<script src="js/mxn-2.0.14/mxn.js?(googlev3, yahoo, microsoft, openlayers, openlayersv3, leaflet)" type="text/javascript" charset="utf-8" ></script> 
	<!-- -->


















	<!-- ui -->
	<script src = "js/jquery-1.7.1.min.js"></script>
    <script src = "js/jquery/plugins/jquery.getUrlParam.js"></script>
    <script src = "js/jquery/plugins/jquery.csv.js"></script>

	<link  href = "js/jquery/ui/css/custom-theme/jquery-ui-1.8.18.custom.css" rel="stylesheet" type="text/css"/>
	<script src = "js/jquery/ui/js/jquery-ui-1.8.16.custom.min.js"></script>

	<script src="js/ixmaps/tools/messagebox.js" type="text/javascript"></script>

	<!-- mapup -->
	<script src="js/ixmaps/map_api.js" type="text/javascript"></script>
	<script src="js/ixmaps/map_up.js" type="text/javascript"></script>
	<script src="js/ixmaps/map_feed.js?()" type="text/javascript"></script>

	<script src="js/maptune.js" type="text/javascript"></script>
	<script src="js/maptune_map_ext.js" type="text/javascript"></script>

	<!-- marker clusterer ->
	<script src="js/ixmaps/tools/marker-clusterer.js" type="text/javascript"></script>
	-->

	<!-- marker declutter -->
	<script src="js/ixmaps/tools/marker-declutter.js" type="text/javascript"></script>
	<!-- -->

	<script src="js/jquery/plugins/jquery.idTabs.min.js" type="text/javascript" charset="utf-8"></script> 

	<!-- menu with css --> 
	
	<style type="text/css" media="screen"> 
			@import url(css/menu_styles.css);
		</style> 
	<style type="text/css" media="print"> 
			@import url(css/menu_styles_print.css);
		</style> 
	<script src="js/jquery/plugins/jquery.hoverIntent.minified.js" type="text/javascript" charset="utf-8"> 
	</script> 


	<style type="text/css" media="screen"> 
	a.C1 {
	  text-decoration:none!important;
	  font-size:1.5em;
	  margin-right: 5px;
	}
	a.C2 {
	  text-decoration:none!important;
	  font-size:1.2em;
	  margin-right: 5px;
	}
	a.C3 {
	  text-decoration:none!important;
	  font-size:1em;
	  margin-right: 5px;
	}
	a.B1 {
	  text-decoration:none!important;
	  font-size:1em;
	  margin-right: 5px;
	  background:#ddd;
	  border: solid 1px #bbd;
	  padding:0px 5px 1px 5px;
	}

	.xtiptool {
	  border: 1px solid blue;
	  background-color: white;
	  padding: 3px;
	  -moz-border-radius: 0 8px 8px 8px;
	  -webkit-border-radius: 0 8px 8px 8px;
	}
	.tiptool{
		color: #444;
		border: 1px solid #666;
		border-bottom: 1px solid #666;
		border-right: 1px solid #666;
		background-color: #f4f4f8;
		padding: 2px 5px 2px 5px;
		white-space: nowrap;
		font-size: 0.7em;
		font-family: arial;
		opacity: 1;
		margin-top:  5px;
		margin-left: -3px;
	  -moz-border-radius: 0px 6px 6px 6px;
	  -webkit-border-radius: 0px 6px 6px 6px;
	}	
	.tiptoolbg{
		color: #444;
		border: 2px solid #666;
		border-bottom: 2px solid #666;
		border-right: 2px solid #666;
		background-color: #000;
		padding: 3px 2px 0px 1px;
		white-space: nowrap;
		font-size: 0.7em;
		font-family: arial;
		opacity: 0.25;
		margin-top:  7px;
		margin-left: 4px;
	  -moz-border-radius: 0px 8px 8px 8px;
	  -webkit-border-radius: 0px 8px 8px 8px;
	}
	body{
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-o-user-select: none;
		user-select: none;
	}
	</style>

	<script type="text/javascript" charset="utf-8"> 

	// define default marker style for layers
	var MapParam = {
		"default":
			{
			"thumbnailRoot" : "resources/images/tn/",
			"markerImageRoot" : "resources/icons/map-icons-collection/numeric/orange",
			"markerImageType" : "png"
			}
		,
		"layerdialog":
			{ 
			"href" : "./layer.html"
			}

	};

	var normalPageWidth = 1024;
	var normalPageHeight = 650;
	var normalSidebarWidth = 380;

	var defaultLayerDialog = "./layer.html";
	var defaultParamFile = "./param.js";

	$(document).ready(function() {
      
		_TRACE("on document ready --->");

		$( "#addlayer" ).button({ icons:{secondary:'ui-icon-triangle-1-s'}}).click(function(e){
						openMegaBox(e,'feed-dialog',MapParam.layerdialog.href,'add layer','auto',500,400);
						});
		$( "#today" ).button();	
		$( "#week" ).button();	
		$( "#month" ).button();	
		$( "#all" ).button();	
		$( "#timelapbuttons" ).buttonset();

		var paramFile = $(document).getUrlParam('param');
		_TRACE("load: "+(paramFile?paramFile:defaultParamFile));
		ixmaps.message("loading",true);

		$.get(paramFile?paramFile:defaultParamFile,
			function(data){
				ixmaps.message("loading",false);

				// compatible with old param.js;
				if ( typeof(MapParam) == "object" ){
					ixmaps.jsapi.mapParam = MapParam;
				}
				if ( !MapParam.layerdialog ){
					MapParam.layerdialog = {"href":defaultLayerDialog};
				}
				if ( MapParam.defaultmap ){
					ixmaps.jsapi.addDataAndZoomTo(MapParam.defaultmap.data);
				}
				if ( MapParam.layertab && MapParam.layertab.href ){
					infuseHTML('layer',MapParam.layertab.href,'layertab');
				}
				if ( MapParam.layerbar && MapParam.layerbar.href ){
					infuseHTML('header_quickfilter',MapParam.layerbar.href,'layerbar');
				}
				// create map !!!
				// ---------------------------------------------------------------------------------------
				var mapUp = new ixmaps.jsapi.MapUp("map-content","itemlist","legend","directions-result","leaflet");

				__normalscreen();
			});

		// correct open layers attibution position
		$("div.olControlAttribution").css("bottom","0.5em");


		// attach ajax error to error node
		// needed for $.get error messages ( before jQuery 1.5 )
		$("#error-message").ajaxError(function(event, request, settings,thrownError){
			$("#error").css("visibility","visible");
			if ( thrownError && thrownError.message ){
				alert(thrownError.message);
			}
			$(this).html("Error loading " + settings.url + "");
			setTimeout("$(\"#error\").css(\"visibility\",\"hidden\");$(\"#error-message\").html(\"\");",1000);
			});

	});
 
	// page management
	// ---------------------------------------------------------------------------------------

	function __fullscreen(){

		var normalScreenMenu = document.getElementById("normal_screen_quick_menu");
		if ( normalScreenMenu )	{
			normalScreenMenu.style.visibility = "hidden";
			normalScreenMenu.style.position = "absolute";
		}
		var fullScreenMenu = document.getElementById("full_screen_quick_menu");
		if ( fullScreenMenu )	{
			fullScreenMenu.style.visibility = "visible";
			fullScreenMenu.style.position = "relative";
		}
		
		fFullScreen = true;
		__format_page(window.innerWidth,window.innerHeight,0);
	}
	function __normalscreen(){

		var normalScreenMenu = document.getElementById("normal_screen_quick_menu");
		if ( normalScreenMenu )	{
			normalScreenMenu.style.visibility = "visible";
			normalScreenMenu.style.position = "relative";
		}
		var fullScreenMenu = document.getElementById("full_screen_quick_menu");
		if ( fullScreenMenu )	{
			fullScreenMenu.style.visibility = "hidden";
			fullScreenMenu.style.position = "absolute";
		}
		fFullScreen = false;
		__format_page(window.innerWidth-1,window.innerHeight-1,Math.min(window.innerWidth/2.5,450));
	}
	function __format_page(width,height,sidebarWidth){

		var pageWidth = width;
		var pageHeight = height;
		var footerHeight = 0;

		var map = document.getElementById("map");
		var mapcontent = document.getElementById("map-content");
		var content = document.getElementById("content");
		var header = document.getElementById("header");

		var sidebar = document.getElementById("sidebar");
		var sidebartab = document.getElementById("sidebar-tab");
		var quickmenue = document.getElementById("quick-menue");
		var footer = document.getElementById("footer");
		var postdate = document.getElementById("post_content");

		map.style.width = String(pageWidth-sidebarWidth)+"px";
		mapcontent.style.height = String(pageHeight-header.offsetHeight-map.offsetTop-2)+"px";

		if ( sidebar ){
			sidebar.style.left = String(sidebarWidth?(pageWidth-sidebarWidth):0)+"px";
			sidebar.style.width = String(sidebarWidth?(sidebarWidth-1):0)+"px";
			sidebar.style.height = String(pageHeight-header.offsetHeight-map.offsetTop-footerHeight-40)+"px";
			sidebar.style.visibility = sidebarWidth?"visible":"hidden";
		}
		if ( sidebartab ){
			sidebartab.style.left = String(sidebarWidth?(pageWidth-sidebarWidth):0)+"px";
			sidebartab.style.width = String(sidebarWidth-0)+"px";
			sidebartab.style.visibility = sidebarWidth?"visible":"hidden";
		}
		if ( quickmenue ){
			quickmenue.style.top   = String(-49)+"px";
			quickmenue.style.right = String(3)+"px";
		}
		if ( postdate ){
			postdate.style.left = String((pageWidth-sidebarWidth)/2-30)+"px";
		}

		ixmaps.jsapi.setSidebarClipping(true);
		ixmaps.jsapi.setSidebarAutoScroll(true);
		ixmaps.jsapi.setSidebarTooltips(true);
		ixmaps.jsapi.setSidebarTooltips(true,true);
		$("#itemlist").css("height",String(pageHeight-header.offsetHeight-map.offsetTop-footerHeight-2)+"px");


		ixmaps.jsapi.checkResize();

	}

	// ---------------------------------------------------------------------------------------
	// helper to load feeds
	// ---------------------------------------------------------------------------------------

	// add layer defined by my own json
	// 
	function addLayer(szLayer,szFlag){
		if ( szFlag && szFlag.match(/zoomto/) ){
			ixmaps.jsapi.addDataAndZoomTo(szLayer);
		}else{
			ixmaps.jsapi.addData(szLayer);
		}
	}

	// add layer defined by feed ( rss, georss, kml, geojson )
	// 
	function addFeedLayer(szLayer,szName,szType,szFlag,szTitle){
		ixmaps.feed.addFeed(szLayer,{"name":szName,"type":szType,"flag":szFlag,'title':szTitle});
	}

	// use yahoo YQL webservice as proxy to get around origin problems
	// 
	function addFeedLayer_YQL(szLayer,szName,szType,szFlag,szTitle){
		var szUrl  = "http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20xml%20where%20url%3D";
			szUrl += "'"+encodeURIComponent(szLayer)+"'";
			szUrl += szName.match(/GeoRSS/)?"&format=rss&diagnostics=true":"&format=json&diagnostics=true";
		ixmaps.feed.addFeed(szUrl,{"name":szName,"type":szType,"flag":szFlag,'title':szTitle});
	}

	// ---------------------------------------------------------------------------------------
	// popup dialog
	// ---------------------------------------------------------------------------------------
	openMegaBox = function(event,szElement,szUrl,szTitle,szPosition,minWidth,minHeight){

		if ( typeof($("#"+szElement)[0]) == "undefined" ){
			return;
		}

		var offsetLeft = null;
		var offsetTop  = null;
		if ( event && (typeof(event) != "undefined") ){
			if ( $(event.currentTarget) ){
				offsetLeft = $(event.currentTarget).offset().left + $(event.currentTarget).innerWidth();
				offsetTop  = $(event.currentTarget).offset().top  + $(event.currentTarget).innerHeight();
			}
		}
		var dialogWidth   = Math.max(minWidth,window.innerWidth*0.33);
		var dialogHeight  = Math.max(minHeight,window.innerHeight*0.75);
		var nPosition = [50,50];
		if ( szPosition ){
			if ( szPosition == "left" ){
				nPosition = [0,50];
			}
			else
			if ( szPosition == "centerleft" ){
				nPosition = [50,50];
			}
			else
			if ( szPosition == "right" ){
				nPosition = [window.innerWidth-dialogWidth-50,50];
			}
			else
			if ( szPosition == "center" ){
				nPosition = [window.innerWidth/2-dialogWidth/2,50];
			}
			else
			if ( szPosition == "auto" && offsetLeft && offsetTop ){
				nPosition = [Math.max(10,offsetLeft-dialogWidth-5),offsetTop+10];
			}
			else
			if ( szPosition.match(/,/) ){
				var szValueA = szPosition.split(",");
				nPosition = [Number(szValueA[0]),Number(szValueA[1])];
			}
			else{
				nPosition = [window.innerWidth/2-dialogWidth/2,50];
			}
		}
		/**
		dialogWidth   = window.innerWidth-380;
		dialogHeight  = window.innerHeight-50;
		nPosition = [10,30];
		**/
		$("#velo").css({
			"visibility":"visible",
			"width":(window.innerWidth)+"px",
			"height":(window.innerHeight)+"px"
		});
		$("#"+szElement).css("visibility","visible");
	    $("#"+szElement).dialog({ width: dialogWidth, height: dialogHeight, title: szTitle, position:  nPosition, close: function(event, ui) {
			$("#velo").css("visibility","hidden");
			}
			});
		if ( typeof(szUrl) == "string" && szUrl.length ){

			$("head").append($("<link rel='stylesheet' href='./feedlist.css"+ "' type='text/css' media='screen' />"));

			$("#"+szElement).load(szUrl+' #feedlist', function(response, status, xhr) {
				  if (status === "error") {
					var msg = "Sorry but there was an error: ";
					alert(msg + xhr.status + "\n" + xhr.statusText);
				  }
				try {
 					ixmaps.touchScroll("feed-list");
				}catch (e){}
			});
		}

	maptune.selectFeedDialog = function(flag){
		$("#velo").css("visibility","hidden");
		$("#feed-dialog").dialog( "close" );
	}


	};

	// ---------------------------------------------------------------------------------------
	// infuse HTML snippets
	// ---------------------------------------------------------------------------------------
	infuseHTML = function(szElement,szUrl,szDiv){

		szStoryRoot = "";

		if ( typeof($("#"+szElement)[0]) == "undefined" ){
			return;
		}
		$("#"+szElement).load(szUrl+' #'+ szDiv , function(response, status, xhr) {
			  if (status == "error") {
				var msg = "Sorry but there was an error: ";
				$("#story").html(msg + xhr.status + "<br><br> '" +szStoryRoot+szUrl+ "'<br><br> " + xhr.statusText);
			  }
			});
	};

	</script>
	<!-- end menu      --> 

<!-- html page -->

</head>
<body style="margin:0px;padding:0px;background:url('resources/images/loading.gif') no-repeat fixed center">
	<!-- Container -->
	<div id="container" >



		<!--========================================================================= 
			top bar
		<!--========================================================================= -->
		<div id='header' style="height:45px;">
			<div id='header_quickfilter'  style="font-family:arial,sans serif;font-size:16px;margin-top:3px;"  >
			</div>
			<div id='title'  style="font-family:arial,sans serif;color:#f8f8f8;font-size:46px;"  >
				Maptune
			<div style="position:absolute;right:10px;top:-10px;" >
				<a href="javascript:openMegaBox(null,'feed-dialog','./about.html','about','auto',500,400)"><span style="font-size:0.4em;font-weight:bold;color:#bbb;border:solid #ddd 1px;padding:0px;">&nbsp;i&nbsp;</span></a>
			</div>
			</div>
		</div>

		<!-- Content -->
		<div id="content">

			<!--========================================================================= 
				map
			<!--========================================================================= -->
			<div id="map" >
				<div id="map-content">
				</div>
			</div>

			<!--========================================================================= 
				sidebar
			<!--========================================================================= -->

			<div id="sidebar">

				<div id="itemlist" style="height:93%;overflow:auto;" >
				</div>

				<!-- legend --> 

				<!--
				<div id="legend" style="margin:10px">
				</div>
				-->

				<!-- layer --> 

				<div id="layer" style="height:93%;overflow:auto;">
					(empty)
				</div>

				<!-- driving directions --> 
				<!--
				<div id="directions">
					<form id="directionsform" action="#" onsubmit="ixmaps.jsapi.setDirections(this.from.value, this.to.value, this.toHidden.value, this.locale.value); return false"> 
					 
					<table> 
					 
					 <tbody> 
					 
					 <tr><th align="right">Da:&nbsp;</th> 
					 <td><input type="text" size="25" id="fromAddress" name="from" value="(inserisci indirizzo)" /></td>
					 </tr><tr>
					 <th align="right">&nbsp;&nbsp;A:&nbsp;</th> 
					 <td align="right"><input type="text" size="25" id="toAddress" name="to" value="(clickare elemento mappa)" /></td>
					 </tr><tr style="display:none"><th align="right"></th>
					 <td align="right"><input type="text" size="25" id="toHidden" name="toHidden" value="(clickare elemento mappa)" /></td></tr> 
					 
					 <tr> 
					 <td colspan="3"><select id="locale" name="locale"> 
					 
						<option value="en">English</option> 
						<option value="fr">French</option> 
					 
						<option value="de">Deutsch</option> 
						<option value="ja">Japanese</option> 
						<option value="es">Spanish</option> 
						<option value="it" selected="selected">Italiano</option> 
						</select> 
					 
						<input name="submit" type="submit" value="Go" /> 
					   </td></tr> 
					   </tbody> 
					   </table> 
					 
						
					  </form> 
					 
					<br /> 
					<div id="directions-result"></div>
				</div>
				-->
			</div>

			<!-- sidebar tab -->
			<div id="sidebar-tab" style="visibility:visible;margin-top:-2px;" >
			  <div id="head" class="usual"> 
				<ul class="idTabs"> 
				  <li><a href="#itemlist">Elenco</a></li> 
<!--				  <li><a href="#legend">Legenda</a></li> --> 
				  <li><a href="#layer">Layer</a></li> 
<!--				  <li><a href="#directions">Ind.Strad.</a></li> -->
				</ul> 
			  </div>
			</div>

		<!-- end Contend -->
		</div>

		<!--========================================================================= 
			Header
		<!--========================================================================= -->

		<div >

			<div id='header_lower'  style="position:absolute;top:50px;left:0px;width:100%;background:none;pointer-events:none;"  >

				<div style="float:left;margin-left:40px;margin-top:5px;z-index:999">
					<button type="button" id="addlayer" style="pointer-events:all;z-index:999" >
						<span ><span style="font-weight:bold;">+</span> add</span>
					</button>

					<form id="IndicatorFilterForm" style="display:inline-block;position:relative;top:-1px;left:1px;height:26px;margin-right:10px;border:1px solid #ddd;background:#fff;pointer-events:all;z-index:999" action="javascript:ixmaps.jsapi.search();" name="IndicatorFilterForm">
						<img src="./resources/images/filter.jpg" style="position:relative;left:2px;top:2px;" height="14" onclick="javascript:ixmaps.filterIndicators();" title="define filter" />
						<input class="ifield" id="query" type="text" size="9" style="width:150px;height:24px;position:relative;top:0px;border:none;" title="define filter" onkeyup="javascript:ixmaps.jsapi.search();"/>		
					</form>
				</div>
	
				<div id="timelapbuttons" style="float:left;margin-left:5px;margin-top:8px;visibility:hidden;pointer-events:all;z-index:999" >
					<input type="radio" id="today" name="tools" onclick="avascript:ixmaps.jsapi.setTimeScope('today')" />
						<label for="today" title="zoom with rect" style="z-index:999">oggi</label>
					<input type="radio" id="week"  name="tools" onclick="javascript:ixmaps.jsapi.setTimeScope('week')"  />
						<label for="week" title="pan with basemap" style="z-index:999">settimana</label>
					<input type="radio" id="month" name="tools" onclick="avascript:ixmaps.jsapi.setTimeScope('month')" />
						<label for="month" title="show info of map items" style="z-index:999">mese</label>
					<input type="radio" id="all" name="tools" onclick="avascript:ixmaps.jsapi.setTimeScope('all')" />
						<label for="all" title="select map items with rect" style="z-index:999">tutto</label>

					<span id="timelapbuttons-date" style="float:left;visibility:hidden;pointer-events:all;background:#fff;z-index:999">
						<a title="time -" href="javascript:ixmaps.timeline.moveTimeWindow(-1);" style="z-index:999">-</a>
						<a title="time +" href="javascript:ixmaps.timeline.moveTimeWindow(1);" style="z-index:999">+</a>
						<a id="showtimelinedate" style="float:left;margin-left:5px;margin-right:5px;border:solid #ddd 1px;padding:5px 5px 5px 5px;background:white;z-index:999">
						</a>
					</span>
				</div>


				<div id="debug" style="position:absolute;top:30px;left:2px;">
				</div>

				<!-- normal screen quick menu -->
				<div id="normal_screen_quick_menu" style="visibility:visible;float:right;margin-top:0px;margin-right:7px;pointer-events:all;" >
					<a title="reset" href="javascript:javascript:ixmaps.jsapi.reset();"><img style="margin-bottom:0px;" src="resources/images/reset.png" alt="reset layer" height="22px" /></a>
					<a title="zoom -" href="javascript:ixmaps.jsapi.changeZoom(-1);"><img style="margin-bottom:0px;" src="resources/images/zoom-.png" alt="reset layer" height="22px" /></a>
					<a title="zoom +" href="javascript:ixmaps.jsapi.changeZoom(1);"><img style="margin-bottom:0px;" src="resources/images/zoom+.png" alt="reset layer" height="22px" /></a>
					<a title="zoom tutto" href="javascript:ixmaps.jsapi.zoomToLayer();"><img style="margin-bottom:0px;" src="resources/images/zoom-layer2.png" alt="reset layer" height="22px" /></a>
					<a id="full_page_button" title="pagina intera" href="javascript:__fullscreen();"><img style="margin-bottom:0px;" src="resources/ui/fullscreen_gray.png" alt="reset layer" height="22px" /></a>
				</div>
				<!-- full screen quick menu -->
				<div id="full_screen_quick_menu" style="visibility:hidden;float:right;margin-top:-30px;margin-right:35px;pointer-events:all; " >
					<a title="reset" href="javascript:javascript:ixmaps.jsapi.loadData();"><img style="margin-bottom:0px;" src="resources/images/reset.png" alt="reset layer" height="22px" /></a>
					<a title="zoom -" href="javascript:ixmaps.jsapi.changeZoom(-1);"><img style="margin-bottom:0px;" src="resources/images/zoom-.png" alt="reset layer" height="22px" /></a>
					<a title="zoom +" href="javascript:ixmaps.jsapi.changeZoom(1);"><img style="margin-bottom:0px;" src="resources/images/zoom+.png" alt="reset layer" height="22px" /></a>
					<a title="zoom tutto" href="javascript:ixmaps.jsapi.zoomToLayer();"><img style="margin-bottom:0px;" src="resources/images/zoom-layer2.png" alt="reset layer" height="22px" /></a>
					<a id="normal_page_button" title="pagina normale" href="javascript:__normalscreen();"><img style="margin-bottom:0px;" src="resources/ui/window_gray.png" alt="reset layer" height="22px" /></a>
				</div>
			</div>
		</div>
	<!--========================================================================= 
		popups and helper
	<!--========================================================================= -->

	<div id="footerloading" style="position:absolute;top:50%;left:27%;pointer-events:none;z-index:999">
		<p id="loading" class="ui-corner-all"
						style=" position:relative;
								top:0px;
								left:0px;
								padding:0px;
								margin:0px;
								padding-top:-2px;
								padding-bottom:5px;
								padding-left:15px;
								visibility:hidden;
								background:white;
								-webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
								opacity:0.8;
								">
								<span id="loading-message" style="position:relative;top:-8px;padding-right:10px;font-size:1.5em;color:#666666">... loading ...</span><img style="position:relative;top:6px;left:-5px;" alt="mill" src="resources/images/loading.gif" height="44px" />
		</p>
		<p id="error-div" class="ui-corner-all"
						style=" position:relative;
								top:0px;
								left:0px;
								padding:0px;
								margin:0px;
								padding-top:-2px;
								padding-bottom:5px;
								padding-left:15px;
								visibility:hidden;
								background:white;
								-webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
								opacity:0.8;
								">
								<span id="error-message" style="position:relative;top:2px;padding-right:10px;font-size:1.5em;color:#666666"></span>
		</p>
	</div>

	<div id="velo" style="	visibility:hidden;
							background-color:#444444;
							opacity:0.2;
							position:absolute;
							top:0px;
							left:0px;
							width:98%;
							height:98%;"  >
	</div>
	<div id="help" style="visibility:hidden"  >
	</div>
	<div id="feed-dialog" style="visibility:hidden"  >
		<div id="feed-dialog-content">
		<div>	
	</div>
	<div id="dialog" style="font-size:14px;line-height:14px;background-color:white;vertical-align:-20%;letter-spacing:9px;" >
	</div>

	</div>
	
</body>
</html>